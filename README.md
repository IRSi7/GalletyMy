# GalletyMy
Тестовое задание для оценки знананий

ТЗ было таким:

Сделать прототип приложения “Галерея” под андроид. 
1) На локальном диске получить альбомы с картинками
2) сделать четыре экрана: список альбомов, список картинок в альбоме, просмотр картинки, диалог переименования
2.0 спросить пользователя, согласен ли он дать права приложению
2.1 список альбомов должен показывать превью первой картинки, название папки и количество картинок. сортировать по имени
2.2 список картинок должен показывать превью картинки и название файла, сортировать по имени.
2.3 экран просмотра картинки должен показывать ее на весь экран и показывать имя файла. содержит кнопку “Rename“ которая вызовет диалог переименования файла. 

Что успел сделать:

1. Запрос разрешения: при первом входе в приложение пользователь получает уведомление о необходимых разрешениях
К сожалению логику что делать при отказе пользователя не успел добавить в проект, однако в исходниках лежит DialogFragment, который должен был за это отвечать:
сообщение крупными буквами, что разрешение нужно для работы приложения и две кнопки выдать разрешения, или закрыть приложение

2. Считывание с внешнего диска, опять же успел добавить только логику с чтением из одной директивы "/Camera", оттуда было удобно просматривать изображения как с эмулятора,
так и с телефона. Для отображения элементов я решил использовать RecyclerView так как он предоставляет достаточно понятные новичку возможности по отображению
 динамических списков элементов, в моём случае CarView с картинкой и названием внутри.
 2.1 Во время первого отображение экземпяляра в RecyclerView требуется получить превью картинки, это достаточно дорогостоющая операция поэтому, чтобы лента пролистывания
 не фризила, я вынес процес создания превью в корутину, для того чтобы освобождать UI-поток. К сожалению я не доконца понял принцип работы корутин, и когда пробовал
 вносить и выносить обьявление onClickListener производительность особо не менялась.
 
 3. На превью картинок можно дважды нажать, чтобы перейти на fullscreenactivity и посмотеть на картинку в том маштабе, в котором позволяет экран. Так же снизу
 располагается кнопка rename которая должна предоставлять возможность переименовывать выбранную картинку, к сожалению при написаной логике для переименования файла и 
диалоговым окном для выбора нового названия, у меня возникли проблемы с соединением диалогового окна вместе с activity, поэтому при нажатии на кнопку rename вызывается
пустое диалоговое окно.

Как я собирался решать оставшиеся задачи:

Для того чтобы отобразить список альбомов, мне бы понадобился клас обёртка над pictureAdapter, который смог бы по аналогии, получать превью первой картинки в picture
adapter, созданного в определённой директории, а дальше при двойном нажатии на него переходить на текущее activitymain. Для связывания activity и dialogfragment, нужно
немного расширить класс dialogfragment и переопределить некоторые функции, разобраться в этом мне не хватило времени, основную его часть занял PictureAdapter.

Подводя итог, проделанную работу оцениваю на 3+, но надеюсь на благосклонность.
